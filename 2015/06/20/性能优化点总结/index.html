<!doctype html><html class="theme-next pisces use-motion"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="google9707cecf254225e9.html"><link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css"><meta name="keywords" content="前端,性能优化,"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1"><meta name="description" content="前端性能优化点总结1. 前言
前端性能优化不完全总结，性能优化任重而道远。但应该切记的是，不可为了优化而优化，性能优化和开发效率、用户体验以及实现成本等是相结合的。
性能优化，其实现手段多样，关注领域复杂，从前到后，自上而下，方方面面都是性能优化的地方。"><meta property="og:type" content="article"><meta property="og:title" content="前端性能优化点总结"><meta property="og:url" content="http://pengfei6.github.io/2015/06/20/性能优化点总结/index.html"><meta property="og:site_name" content="semifi's Notes"><meta property="og:description" content="前端性能优化点总结1. 前言
前端性能优化不完全总结，性能优化任重而道远。但应该切记的是，不可为了优化而优化，性能优化和开发效率、用户体验以及实现成本等是相结合的。
性能优化，其实现手段多样，关注领域复杂，从前到后，自上而下，方方面面都是性能优化的地方。"><meta property="og:updated_time" content="2016-09-20T15:01:19.838Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="前端性能优化点总结"><meta name="twitter:description" content="前端性能优化点总结1. 前言
前端性能优化不完全总结，性能优化任重而道远。但应该切记的是，不可为了优化而优化，性能优化和开发效率、用户体验以及实现成本等是相结合的。
性能优化，其实现手段多样，关注领域复杂，从前到后，自上而下，方方面面都是性能优化的地方。"><script type="text/javascript" id="hexo.configuration">var NexT=window.NexT||{},CONFIG={scheme:"Pisces",sidebar:{position:"left",display:"post"},fancybox:!0,motion:!0,duoshuo:{userId:0x57d2df6cebc04400,author:"作者"}}</script><link rel="canonical" href="http://pengfei6.github.io/2015/06/20/性能优化点总结/"><title> 前端性能优化点总结 | semifi's Notes</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container one-collumn sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">semifi's Notes</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">一只爱健身的程序猿</p></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br> 关于</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br> 分类</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br> 搜索</a></li></ul><div class="site-search"><div class="popup"><span class="search-icon fa fa-search"></span> <input type="text" id="local-search-input"><div id="local-search-result"></div> <span class="popup-btn-close">close</span></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> 前端性能优化点总结</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2015-06-20T20:16:14+08:00" content="2015-06-20">2015-06-20</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/总结整理/" itemprop="url" rel="index"><span itemprop="name">总结整理</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2015/06/20/性能优化点总结/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2015/06/20/性能优化点总结/" itemprop="commentsCount"></span></a></span> <span id="/2015/06/20/性能优化点总结/" class="leancloud_visitors" data-flag-title="前端性能优化点总结">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数</span><span class="leancloud-visitors-count"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前端性能优化点总结"><a href="#前端性能优化点总结" class="headerlink" title="前端性能优化点总结"></a>前端性能优化点总结</h1><h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><ul><li>前端性能优化不完全总结，性能优化任重而道远。但应该切记的是，不可为了优化而优化，性能优化和开发效率、用户体验以及实现成本等是相结合的。</li><li>性能优化，其实现手段多样，关注领域复杂，从前到后，自上而下，方方面面都是性能优化的地方。<a id="more"></a><h2 id="2-图片"><a href="#2-图片" class="headerlink" title="2. 图片"></a>2. 图片</h2><h3 id="优化图像"><a href="#优化图像" class="headerlink" title="优化图像"></a>优化图像</h3><ul><li>检查gif图片图像颜色数量和调色板规格是否一致</li><li>有gif的情况考虑换成png</li><li>色值较少的图片切成jpg</li></ul></li></ul><h3 id="Inline-images"><a href="#Inline-images" class="headerlink" title="Inline images"></a>Inline images</h3><ul><li>通过编码的字符串将图片直接内嵌在网页文本中</li><li>base64编码</li></ul><h3 id="image-Maps"><a href="#image-Maps" class="headerlink" title="image Maps"></a>image Maps</h3><ul><li>将多张图拼在一起，通过坐标来控制显示导航</li></ul><h3 id="优化css-sptite，合成雪碧图"><a href="#优化css-sptite，合成雪碧图" class="headerlink" title="优化css sptite，合成雪碧图"></a>优化css sptite，合成雪碧图</h3><ul><li>可以选用单独的工具来生成雪碧图</li><li>使用构建工具来分析产出雪碧图</li></ul><h3 id="不在html中缩放图片"><a href="#不在html中缩放图片" class="headerlink" title="不在html中缩放图片"></a>不在html中缩放图片</h3><h3 id="使用小且可缓存defavicon-ico"><a href="#使用小且可缓存defavicon-ico" class="headerlink" title="使用小且可缓存defavicon.ico"></a>使用小且可缓存defavicon.ico</h3><ul><li>浏览器总会去请求这个图标</li><li>确保图标存在，否则报错</li><li>文件尽量小，最好小于1K</li><li>设置一个长的过期时间</li></ul><h3 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h3><ul><li>规范</li><li>工具</li></ul><h2 id="3-javascript"><a href="#3-javascript" class="headerlink" title="3. javascript"></a>3. javascript</h2><h3 id="js脚本文件置底"><a href="#js脚本文件置底" class="headerlink" title="js脚本文件置底"></a>js脚本文件置底</h3><h3 id="现在主流浏览器都支持defer关键字，可以指定脚本在文档加载后执行"><a href="#现在主流浏览器都支持defer关键字，可以指定脚本在文档加载后执行" class="headerlink" title="现在主流浏览器都支持defer关键字，可以指定脚本在文档加载后执行"></a>现在主流浏览器都支持defer关键字，可以指定脚本在文档加载后执行</h3><h3 id="使用外链js和css文件"><a href="#使用外链js和css文件" class="headerlink" title="使用外链js和css文件"></a>使用外链js和css文件</h3><h3 id="精简代码"><a href="#精简代码" class="headerlink" title="精简代码"></a>精简代码</h3><h3 id="减少DOM访问和查询"><a href="#减少DOM访问和查询" class="headerlink" title="减少DOM访问和查询"></a>减少DOM访问和查询</h3><ul><li>换成已经访问过的元素</li><li>优化dom的选择器</li><li>避免通过js修复layout</li><li>优化逻辑减少dom操作</li><li>双向数据绑定</li><li>dom diff</li><li>dom拼接<h3 id="减少或避免引起页面repaint或reflow的代码逻辑"><a href="#减少或避免引起页面repaint或reflow的代码逻辑" class="headerlink" title="减少或避免引起页面repaint或reflow的代码逻辑"></a>减少或避免引起页面repaint或reflow的代码逻辑</h3><h3 id="使用智能事件处理方式"><a href="#使用智能事件处理方式" class="headerlink" title="使用智能事件处理方式"></a>使用智能事件处理方式</h3></li><li>事件代理<h3 id="语言基础"><a href="#语言基础" class="headerlink" title="语言基础"></a>语言基础</h3><h3 id="todo-1"><a href="#todo-1" class="headerlink" title="todo"></a>todo</h3></li><li>形成规范进行培训</li><li>代码检查工具</li><li>性能监测工具</li><li>代码走查</li><li>将现有问题形成开发任务</li></ul><h2 id="4-css"><a href="#4-css" class="headerlink" title="4. css"></a>4. css</h2><h3 id="样式表置顶"><a href="#样式表置顶" class="headerlink" title="样式表置顶"></a>样式表置顶</h3><h3 id="避免css表达式"><a href="#避免css表达式" class="headerlink" title="避免css表达式"></a>避免css表达式</h3><h3 id="用link代替-import"><a href="#用link代替-import" class="headerlink" title="用link代替@import"></a>用link代替@import</h3><h3 id="减少层级"><a href="#减少层级" class="headerlink" title="减少层级"></a>减少层级</h3><h3 id="避免filters"><a href="#避免filters" class="headerlink" title="避免filters"></a>避免filters</h3><h3 id="避免冗余"><a href="#避免冗余" class="headerlink" title="避免冗余"></a>避免冗余</h3><h3 id="css文件合理管理"><a href="#css文件合理管理" class="headerlink" title="css文件合理管理"></a>css文件合理管理</h3><h3 id="todo-2"><a href="#todo-2" class="headerlink" title="todo"></a>todo</h3><ul><li>代码规则检查工具</li><li>代码规范培训</li></ul><h2 id="5-cookie"><a href="#5-cookie" class="headerlink" title="5. cookie"></a>5. cookie</h2><h3 id="减少cookie大小"><a href="#减少cookie大小" class="headerlink" title="减少cookie大小"></a>减少cookie大小</h3><ul><li>cookie用来做认证和个性化设置，在请求中包含在http报文头</li><li>如果网页不需要用cookie，就完全禁掉</li><li>去除没必要的cookie</li><li>cookie的domain不可影响到子domain</li><li>设置合适的过期时间<h3 id="页面内容使用无cookie域名"><a href="#页面内容使用无cookie域名" class="headerlink" title="页面内容使用无cookie域名"></a>页面内容使用无cookie域名</h3></li></ul><h2 id="6-服务器"><a href="#6-服务器" class="headerlink" title="6. 服务器"></a>6. 服务器</h2><h3 id="使用cdn分发资源"><a href="#使用cdn分发资源" class="headerlink" title="使用cdn分发资源"></a>使用cdn分发资源</h3><ul><li>CDN通过部署在不同地区的服务器来提高客户的下载速度</li><li>可将站点大量的静态内容放上cdn<h3 id="添加expires或cache-control报文头"><a href="#添加expires或cache-control报文头" class="headerlink" title="添加expires或cache-control报文头"></a>添加expires或cache-control报文头</h3><ul><li>静态内容添加expires，将静态内容设置为永不过期</li></ul></li><li>动态内容适合cache-control，让浏览器根据条件来发送请求<h3 id="gzip压缩-配置etags"><a href="#gzip压缩-配置etags" class="headerlink" title="gzip压缩-  配置etags"></a>gzip压缩- 配置etags</h3><h3 id="flush输出"><a href="#flush输出" class="headerlink" title="flush输出"></a>flush输出</h3><h3 id="get请求"><a href="#get请求" class="headerlink" title="get请求"></a>get请求</h3><h3 id="避免空的图片src"><a href="#避免空的图片src" class="headerlink" title="避免空的图片src"></a>避免空的图片src</h3></li><li>空的图片src仍然会使浏览器发送请求到服务器，这样完全是浪费时间，而且浪费服务器的资源</li></ul><h2 id="7-网页内容"><a href="#7-网页内容" class="headerlink" title="7. 网页内容"></a>7. 网页内容</h2><h3 id="减少http请求次数"><a href="#减少http请求次数" class="headerlink" title="减少http请求次数"></a>减少http请求次数</h3><ul><li>combo合并多个文件请求为一个</li><li>打包合并文件，打包策略很重要<h3 id="减少dns查询次数"><a href="#减少dns查询次数" class="headerlink" title="减少dns查询次数"></a>减少dns查询次数</h3></li><li>愿意在于网页中包含不同domain的内容时，如嵌入广告或引用了外部图片或脚本导致</li><li>dns查询结果可缓存在本地和浏览器一段时间，所以一般在首次访问时消耗流量<h3 id="避免页面跳转"><a href="#避免页面跳转" class="headerlink" title="避免页面跳转"></a>避免页面跳转</h3><h3 id="缓存ajax请求"><a href="#缓存ajax请求" class="headerlink" title="缓存ajax请求"></a>缓存ajax请求</h3><h3 id="延迟加载"><a href="#延迟加载" class="headerlink" title="延迟加载"></a>延迟加载</h3></li><li>确定页面初始加载需要的最小内容集，剩下内容推到延迟加载的集合中<h3 id="提前加载"><a href="#提前加载" class="headerlink" title="提前加载"></a>提前加载</h3></li><li>有条件提前加载<ul><li>用户的输入推断需要加载的内容，如智能搜索框</li></ul></li><li>无条件提前加载<ul><li>当前网页加载完成后，马上去下载一些其他的内容，这些内容是必须会用到的或是公共依赖的<h3 id="减少DOM元素数量"><a href="#减少DOM元素数量" class="headerlink" title="减少DOM元素数量"></a>减少DOM元素数量</h3><h3 id="根据域名划分内容"><a href="#根据域名划分内容" class="headerlink" title="根据域名划分内容"></a>根据域名划分内容</h3><h3 id="减少iframe数量"><a href="#减少iframe数量" class="headerlink" title="减少iframe数量"></a>减少iframe数量</h3></li></ul></li><li>优点<ul><li>用来加载速度较慢的广告</li><li>安全沙箱保护</li><li>脚本可以并行下载</li></ul></li><li>缺点<ul><li>即使iframe内容为空也消耗加载时间</li><li>会阻止页面的加载<h3 id="避免404"><a href="#避免404" class="headerlink" title="避免404"></a>避免404</h3></li></ul></li></ul><h2 id="8-移动端"><a href="#8-移动端" class="headerlink" title="8. 移动端"></a>8. 移动端</h2><h3 id="localStorage本地存储与优化"><a href="#localStorage本地存储与优化" class="headerlink" title="localStorage本地存储与优化"></a>localStorage本地存储与优化</h3><ul><li>大数据量交互，数据不怎么更新的，含版本控制机制，一次请求，之后高枕无忧</li><li>充分利用其资源<h3 id="保持单个内容小于25K"><a href="#保持单个内容小于25K" class="headerlink" title="保持单个内容小于25K"></a>保持单个内容小于25K</h3></li><li>这是因为iphone的限制，它只能缓存解压后小于25K的资源</li><li>所以单纯gzip不一定够用，精简文件工具<h3 id="打包文档"><a href="#打包文档" class="headerlink" title="打包文档"></a>打包文档</h3><h3 id="quikling方案"><a href="#quikling方案" class="headerlink" title="quikling方案"></a>quikling方案</h3></li></ul></div><div><div id="wechat_subscriber" style="display:block;padding:10px 0;margin:20px auto;width:100%;text-align:center"> <img id="wechat_subscriber_qcode" src="/uploads/wechat-qcode.jpg" alt="semifi wechat" style="width:200px;max-width:100%"><div>欢迎您扫一扫上面的微信号，添加好友！</div></div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>觉得不错就赏一个吧`(*∩_∩*)′</div> <button id="rewardButton" disable="enable" onclick='var e=document.getElementById("QR");"none"===e.style.display?e.style.display="block":e.style.display="none"'> <span>赏</span></button><div id="QR" style="display:none"><div id="alipay" style="display:inline-block"> <img id="alipay_qr" src="/uploads/alipay-reward-image.jpg" alt="semifi Alipay"><p>支付宝打赏</p></div></div></div></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/前端/" rel="tag">#前端</a> <a href="/tags/性能优化/" rel="tag">#性能优化</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2015/06/08/Generator 函数的含义与用法/" rel="next" title="Generator 函数的含义与用法"><i class="fa fa-chevron-left"></i> Generator 函数的含义与用法</a></div><div class="post-nav-prev post-nav-item"> <a href="/2016/01/12/2015年大前端技术年终总结/" rel="prev" title="2015年大前端技术年终总结">2015年大前端技术年终总结<i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="post-spread"><div class="jiathis_style"><a class="jiathis_button_tsina"></a><a class="jiathis_button_tqq"></a><a class="jiathis_button_weixin"></a><a class="jiathis_button_cqq"></a><a class="jiathis_button_douban"></a><a class="jiathis_button_renren"></a><a class="jiathis_button_qzone"></a><a class="jiathis_button_kaixin001"></a><a class="jiathis_button_copy"></a><a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a><a class="jiathis_counter_style"></a></div><script type="text/javascript">var jiathis_config={hideMore:!1}</script><script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script></div></div></div><p>热评文章</p><div class="ds-top-threads" data-range="weekly" data-num-items="4"></div><div class="comments" id="comments"><div class="ds-thread" data-thread-key="2015/06/20/性能优化点总结/" data-title="前端性能优化点总结" data-url="http://pengfei6.github.io/2015/06/20/性能优化点总结/"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview"> 站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="https://avatars3.githubusercontent.com/u/18401251?v=3&s=460" alt="semifi"><p class="site-author-name" itemprop="name">semifi</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives"><span class="site-state-item-count">11</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories"><span class="site-state-item-count">6</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags"><span class="site-state-item-count">24</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前端性能优化点总结"><span class="nav-number">1.</span> <span class="nav-text">前端性能优化点总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-前言"><span class="nav-number">1.1.</span> <span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-图片"><span class="nav-number">1.2.</span> <span class="nav-text">2. 图片</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#优化图像"><span class="nav-number">1.2.1.</span> <span class="nav-text">优化图像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inline-images"><span class="nav-number">1.2.2.</span> <span class="nav-text">Inline images</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#image-Maps"><span class="nav-number">1.2.3.</span> <span class="nav-text">image Maps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#优化css-sptite，合成雪碧图"><span class="nav-number">1.2.4.</span> <span class="nav-text">优化css sptite，合成雪碧图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#不在html中缩放图片"><span class="nav-number">1.2.5.</span> <span class="nav-text">不在html中缩放图片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用小且可缓存defavicon-ico"><span class="nav-number">1.2.6.</span> <span class="nav-text">使用小且可缓存defavicon.ico</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#todo"><span class="nav-number">1.2.7.</span> <span class="nav-text">todo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-javascript"><span class="nav-number">1.3.</span> <span class="nav-text">3. javascript</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#js脚本文件置底"><span class="nav-number">1.3.1.</span> <span class="nav-text">js脚本文件置底</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#现在主流浏览器都支持defer关键字，可以指定脚本在文档加载后执行"><span class="nav-number">1.3.2.</span> <span class="nav-text">现在主流浏览器都支持defer关键字，可以指定脚本在文档加载后执行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用外链js和css文件"><span class="nav-number">1.3.3.</span> <span class="nav-text">使用外链js和css文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#精简代码"><span class="nav-number">1.3.4.</span> <span class="nav-text">精简代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#减少DOM访问和查询"><span class="nav-number">1.3.5.</span> <span class="nav-text">减少DOM访问和查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#减少或避免引起页面repaint或reflow的代码逻辑"><span class="nav-number">1.3.6.</span> <span class="nav-text">减少或避免引起页面repaint或reflow的代码逻辑</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用智能事件处理方式"><span class="nav-number">1.3.7.</span> <span class="nav-text">使用智能事件处理方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#语言基础"><span class="nav-number">1.3.8.</span> <span class="nav-text">语言基础</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#todo-1"><span class="nav-number">1.3.9.</span> <span class="nav-text">todo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-css"><span class="nav-number">1.4.</span> <span class="nav-text">4. css</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#样式表置顶"><span class="nav-number">1.4.1.</span> <span class="nav-text">样式表置顶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免css表达式"><span class="nav-number">1.4.2.</span> <span class="nav-text">避免css表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用link代替-import"><span class="nav-number">1.4.3.</span> <span class="nav-text">用link代替@import</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#减少层级"><span class="nav-number">1.4.4.</span> <span class="nav-text">减少层级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免filters"><span class="nav-number">1.4.5.</span> <span class="nav-text">避免filters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免冗余"><span class="nav-number">1.4.6.</span> <span class="nav-text">避免冗余</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css文件合理管理"><span class="nav-number">1.4.7.</span> <span class="nav-text">css文件合理管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#todo-2"><span class="nav-number">1.4.8.</span> <span class="nav-text">todo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-cookie"><span class="nav-number">1.5.</span> <span class="nav-text">5. cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#减少cookie大小"><span class="nav-number">1.5.1.</span> <span class="nav-text">减少cookie大小</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面内容使用无cookie域名"><span class="nav-number">1.5.2.</span> <span class="nav-text">页面内容使用无cookie域名</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-服务器"><span class="nav-number">1.6.</span> <span class="nav-text">6. 服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用cdn分发资源"><span class="nav-number">1.6.1.</span> <span class="nav-text">使用cdn分发资源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加expires或cache-control报文头"><span class="nav-number">1.6.2.</span> <span class="nav-text">添加expires或cache-control报文头</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gzip压缩-配置etags"><span class="nav-number">1.6.3.</span> <span class="nav-text">gzip压缩- 配置etags</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flush输出"><span class="nav-number">1.6.4.</span> <span class="nav-text">flush输出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#get请求"><span class="nav-number">1.6.5.</span> <span class="nav-text">get请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免空的图片src"><span class="nav-number">1.6.6.</span> <span class="nav-text">避免空的图片src</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-网页内容"><span class="nav-number">1.7.</span> <span class="nav-text">7. 网页内容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#减少http请求次数"><span class="nav-number">1.7.1.</span> <span class="nav-text">减少http请求次数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#减少dns查询次数"><span class="nav-number">1.7.2.</span> <span class="nav-text">减少dns查询次数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免页面跳转"><span class="nav-number">1.7.3.</span> <span class="nav-text">避免页面跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#缓存ajax请求"><span class="nav-number">1.7.4.</span> <span class="nav-text">缓存ajax请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#延迟加载"><span class="nav-number">1.7.5.</span> <span class="nav-text">延迟加载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#提前加载"><span class="nav-number">1.7.6.</span> <span class="nav-text">提前加载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#减少DOM元素数量"><span class="nav-number">1.7.7.</span> <span class="nav-text">减少DOM元素数量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#根据域名划分内容"><span class="nav-number">1.7.8.</span> <span class="nav-text">根据域名划分内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#减少iframe数量"><span class="nav-number">1.7.9.</span> <span class="nav-text">减少iframe数量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免404"><span class="nav-number">1.7.10.</span> <span class="nav-text">避免404</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-移动端"><span class="nav-number">1.8.</span> <span class="nav-text">8. 移动端</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#localStorage本地存储与优化"><span class="nav-number">1.8.1.</span> <span class="nav-text">localStorage本地存储与优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#保持单个内容小于25K"><span class="nav-number">1.8.2.</span> <span class="nav-text">保持单个内容小于25K</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打包文档"><span class="nav-number">1.8.3.</span> <span class="nav-text">打包文档</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#quikling方案"><span class="nav-number">1.8.4.</span> <span class="nav-text">quikling方案</span></a></li></ol></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 - <span itemprop="copyrightYear">2016</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">semifi</span></div><div class="powered-by"> 由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="theme-info"> 主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span><span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script><script type="text/javascript">var duoshuoQuery={short_name:"semifi"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="duoshuo-script",t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()</script><script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script><script src="/js/src/hook-duoshuo.js"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="popoverlay">').css("overflow","hidden"),$(".popup").toggle()}var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path,searchFunc=function(e,t,a){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var r=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),c=document.getElementById(t),s=document.getElementById(a);c.addEventListener("input",function(){var e=0,t='<ul class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length>1&&r.forEach(function(r){var c=!0,s=r.title.trim().toLowerCase(),n=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=r.url,o=-1,l=-1,p=-1;if(""!=s&&""!=n&&a.forEach(function(e,t){o=s.indexOf(e),l=n.indexOf(e),o<0&&l<0?c=!1:(l<0&&(l=0),0==t&&(p=l))}),c){e+=1,t+="<li><a href='"+i+"' class='search-result-title'>"+s+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(p>=0){var u=p-20,d=p+80;u<0&&(u=0),0==u&&(d=50),d>h.length&&(d=h.length);var f=h.substring(u,d);a.forEach(function(e){var t=new RegExp(e,"gi");f=f.replace(t,'<b class="search-keyword">'+e+"</b>")}),t+='<p class="search-result">'+f+"...</p>"}t+="</li>"}}),t+="</ul>",0==e&&(t='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==a&&(t='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),s.innerHTML=t}),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".popoverlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script><script>AV.initialize("MHRWKTp3KM39kKFz1G9WjgcC-gzGzoHsz","VltbWrna4wlHYCjjVs7vnvLz")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){var t=".leancloud-visitors-count";if(0===e.length)return void o.find(t).text(0);for(var i=0;i<e.length;i++){var r=e[i],s=r.get("url"),l=r.get("time"),c=document.getElementById(s);$(c).find(t).text(l)}for(var i=0;i<n.length;i++){var s=n[i],c=document.getElementById(s),u=$(c).find(t);""==u.text()&&u.text(0)}}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var r=new e,s=new AV.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),r.setACL(s),r.set("title",o),r.set("url",n),r.set("time",1),r.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js"></script></body></html><script type="text/javascript" src="/js/src/particle.js"></script><script type="text/javascript" src="/js/src/love.js"></script>